{"version":3,"sources":["manager/routes.cljs"],"mappings":";AAMA,GAAA,QAAAA,oCAAAC,2CAAAC;AAAA;AAAA,AAAA,wBAAA,iBAAAC,6BAAA,AAAAC,6CAAA,nHAAUS;IAAVR,6BAAA,AAAAD,6CAAA;IAAAE,6BAAA,AAAAF,6CAAA;IAAAG,iCAAA,AAAAH,6CAAA;IAAAI,0BAAA,AAAAC,4CAAA,mCAAA,gEAAA,iBAAAC,eAAA;AAAA,AAAA,QAAAA,6CAAAA,+CAAAA;;AAAA,AAAA,YAAAC,kBAAA,AAAAC,+CAAA,iBAAA,UAAiB,WAAKE;AAAL,AAAY,OAACC,gBAAM,AAACC,+BAAgBF;GAArD,4DAAAN,wBAAAL,2BAAAE,2BAAAC,2BAAAC;;;AACA,AAAAM,kEAAA,4DAAA;AAAA,AAAA,0FAAA,mDAAA;;AAEA,AAAKI,wBACH,6CAAA,mFAAA,IAAA,2CAAA,GAAA,oDAAA,UAAA,2CAAA,GAAA,0DAAA,SAAA,wEAAA,cAAA,iFAAA,UAAA,0EAAA,SAAA,sEAAA,UAAA,kFAAA,OAAA,oDAAA,UAAA,2DAAA,YAAA,8DAAA,WAAA,59BAACb;AAaH,uBAAA,vBAAMc,sDACHC;AADH,AAEE,6BAAA,AAAAC,tBAACC,sCAAkBJ,uBAAOE;;AAE5B,AAAA,yBAAA,iCAAAG,1DAAMM;AAAN,AAAA,IAAAL,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAK,4DAAAF;;;AAAA,AAAA,CAAA,8DAAA,9DAAME,yEACDI;AADL,AAEE,OAACC,8CAAMC,mBAAc,6CAAA,mFAAA,AAAAd,hIAACe,gJAAOlB,+BAAQe;;;AAFvC,CAAA,iDAAA,jDAAMJ;;AAAN;AAAA,CAAA,2CAAA,WAAAC,tDAAMD;AAAN,AAAA,IAAAE,qBAAA;AAAA,AAAA,OAAAA,wDAAA,AAAAC,cAAAF;;;AAAA,AAIA,0BAAA,1BAAMO,4DACHC;AADH,AAEE,8BAAA,mFAAA,1GAACC,uLAA+B,AAAA,yFAAUD;;AAE5C,GAAA,QAAArC,oCAAAC,2CAAAsC;AAAA;AAAA,AAAA,AAASC,yBACP,AAACC,iBAAYL,wBAASlB;;AAExB,gCAAA,hCAAMwB,wEACHC;AADH,AAEE,OAAkBH,wEAAQ,AAACI,8GAAQD;;AAErC,6BAAA,7BAAME;AAAN,AAEE,OAAcL;;AAEhB,qBAAA,rBAACM,iFAEA,WAAKH;AAAL,AACE,OAACD,8BAAUC","names":["js/manager","js/manager.routes","js/manager.routes.panels","method-table__5642__auto__","cljs.core.atom","prefer-table__5643__auto__","method-cache__5644__auto__","cached-hierarchy__5645__auto__","hierarchy__5646__auto__","cljs.core.get","fexpr__26832","cljs.core/MultiFn","cljs.core.symbol","manager.routes/panels","panel","cljs.core/first","manager.utils/panel->vector","manager.routes/routes","manager.routes/parse","url","cljs.core/deref","bidi.bidi/match-route","var_args","args__5775__auto__","len__5769__auto__","i__5770__auto__","argseq__5776__auto__","cljs.core/IndexedSeq","manager.routes/url-for","seq26833","self__5755__auto__","cljs.core/seq","args","cljs.core.apply","bidi.bidi/path-for","cljs.core.into","manager.routes/dispatch","route","re-frame.core/dispatch","js/manager.routes.history","manager.routes/history","pushy.core/pushy","manager.routes/navigate!","handler","manager.routes.url_for","manager.routes/start!","re-frame.core/reg-fx"],"sourcesContent":["(ns manager.routes\n  (:require [bidi.bidi :as bidi]\n            [pushy.core :as pushy]\n            [manager.utils :as u]\n            [re-frame.core :as rf]))\n\n(defmulti panels (fn [panel] (first (u/panel->vector panel))))\n(defmethod panels :default [] [:div \"No panel found for this route.\"])\n\n(def routes\n  (atom\n   [\"/\" {\"\"          :home\n         \"schemas\"   {\"\"            :schemas\n                      \"/types\"      :schemas_types\n                      \"/interfaces\" :schemas_interfaces\n                      \"/inputs\"     :schemas_inputs\n                      \"/enums\"      :schemas_enums\n                      \"/unions\"     :schemas_unions}\n         \"apis\"      :apis\n         \"queries\"   :queries\n         \"mutations\" :mutations\n         \"settings\"  :settings}]))\n\n(defn parse\n  [url]\n  (bidi/match-route @routes url))\n\n(defn url-for\n  [& args]\n  (apply bidi/path-for (into [@routes] args)))\n\n(defn dispatch\n  [route]\n  (rf/dispatch [:set-active-panel (:handler route)]))\n\n(defonce history\n  (pushy/pushy dispatch parse))\n\n(defn navigate!\n  [handler]\n  (pushy/set-token! history (url-for handler)))\n\n(defn start!\n  []\n  (pushy/start! history))\n\n(rf/reg-fx\n :navigate\n (fn [handler]\n   (navigate! handler)))\n"]}