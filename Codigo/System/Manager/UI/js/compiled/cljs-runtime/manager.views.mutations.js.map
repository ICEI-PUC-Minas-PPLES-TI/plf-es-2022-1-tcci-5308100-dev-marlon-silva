{"version":3,"sources":["manager/views/mutations.cljs"],"mappings":";AAOA,mCAAA,nCAAMA,8EAAUC;AAAhB,AAAA,2BAAA,mHAAA,qJAAA,QAAA,mFAAA,mGAAA,kIAAA,qDAAA,QAAA,mFAAA,qEAAA,oBAAA,mFAAA,oFAAA,kHAAA,2CAAA,uDAAA,4DAAA,uDAAA,iBAAA,0JAAA,2CAAA,oDAAA,mFAAA,2CAAA,oDACS,AAACC,eAAKD,vpDACZE,mHACCC,6CAA0B,AAACF,eAAKD,oKAAyB,AAACI,kBAAQJ,iGAClEK,+PAAoDL,mRAGlDM,kWAC0B,AAACF,kBAAQJ,MAAM,AAACC,eAAKD;;AAErD,+BAAA,/BAAMO;AAAN,AACE,gBAAA,mFAAA,qDAAA,pJAAMC;IACAC,OAAK,AAACC,4CAAIC,gBAAM,+CAAA,AAAAC,mPAAA,lSAACC,+DAAQ,sDAAA,mFAAA,zIAACC,yNAA8BN;AAD9D,AAAA,2HAAA,0HAAA,kHAAA,KAAA,sHAAA,mBAAA,sHAAA,oEAAA,oDAAA,kIAAA,qDAAA,QAAA,mFAAA,mGAAA,+HAAA,4DAAA,UAAA,mFAAA,gHAAA,+GAAA,yDAAA,mFAAA,iDAAA,mFAAA,4EAAA,wBAAA,kHAAA,2CAAA,uDAAA,qDAAA,uDAAA,cAAA,uFAAA,qEAAA,wHAAA,38EAEGO,oHACCC,0HACAC,uHACCC,yIACAC,sHAA4CC,wHAC5Cf,6PAAmDe,wHACnDC,wQAAuDD,gIACxDE,meAEChB,0eACDiB,uFAAsB,4CAAA,WAAAC,vDAACd;AAAD,AAAM,OAACX,iCAAS,uDAAAyB,vDAACC,6CAAKjB;+DAZhD,5DAY8D,AAACkB,6CAAKjB,kGAChEkB;;AAEN,0CAAA,1CAAMC;AAAN,AAAA,6GAAA,4QAAA,2DAAA,gBAAA,iDAAA,MAAA,2DAAA,yDAAA,6DAAA,mFAAA,mGAAA,qDAAA,OAAA,uDAAA,QAAA,sDAAA,2IAAA,nkCACGC,sEAAc,EAAA,GAAAC,cAAA,KAAA,2CAAA,sDAAA,+BAAA,oDAAA,qeAIFC,oRAEQC,2IACRzB;;AAEf,AAAA0B,kEAAA,8DAAA;AAAA,AAAA,0FAAwCL","names":["manager.views.mutations/arg-form","path","cljs.core/last","manager.components.form/subform","manager.components.form/subname-select-input","cljs.core/butlast","manager.components.form/composite-select-input","manager.components.form/button","manager.views.mutations/form","base-path","args","cljs.core.map","cljs.core/first","cljs.core/deref","cljs.core.get_in","re_frame.core.subscribe","manager.components.form/scaffold","manager.components.form/header","manager.components.form/inputs","manager.components.form/name-input","manager.components.form/text-input","manager.components.form/root","manager.components.form/single-select-input","manager.components.form/row","manager.components.form/subform-list","p1__27170#","cljs.core.conj","cljs.core.sort","manager.components.form/footer","manager.views.mutations/mutations-panel","re-com.core/h-box","js/goog.DEBUG","re-com.core/box","manager.components.list/single-resource","manager.routes/panels"],"sourcesContent":["(ns manager.views.mutations\n  (:require [re-frame.core :as rf]\n            [re-com.core :as rc :refer [at]]\n            [manager.components.list :as list]\n            [manager.routes :as routes]\n            [manager.components.form :as form]))\n\n(defn arg-form [path]\n  ^{:key (last path)}\n  [form/subform\n   [form/subname-select-input (last path) \"Name:\" [:request] (butlast path)]\n   [form/composite-select-input :type \"Type:\" [:inputs] path\n    ^{:key :delete}\n    [:span.input-group-btn\n     [form/button {:style :warning :label \"Delete\"}\n      :delete-resource-property (butlast path) (last path)]]]])\n\n(defn form []\n  (let [base-path [:data :args]\n        args (map first (get-in @(rf/subscribe [:get-resource]) base-path {}))]\n    [form/scaffold\n     [form/header]\n     [form/inputs nil\n      [form/name-input \"Mutation\"]\n      [form/text-input :description \"Description:\" form/root]\n      [form/composite-select-input :type \"Type:\" [:types] form/root]\n      [form/single-select-input :resolve \"Source:\" [:sources] form/root]]\n     [form/row :middle\n      [:h4 [:span.page-header \"Args:\"]]\n      [form/button {:style :info :label \"Add\"} :new-resource-property :args]]\n     [form/subform-list :sm (map #(arg-form (conj base-path %)) (sort args))]\n     [form/footer]]))\n\n(defn mutations-panel []\n  [rc/h-box :src (at)\n   :padding \"3vh 5em 0 5em\"\n   :gap \"5em\"\n   :justify :center\n   :children [[rc/box :size \"auto\"\n               :width \"36.4%\"\n               :child [list/single-resource]]\n              [form]]])\n\n(defmethod routes/panels :mutations [] [mutations-panel])\n"]}